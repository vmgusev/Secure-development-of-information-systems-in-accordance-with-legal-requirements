# Практическая работа №5
## Тема: Элементы модульного тестирования

### Цель работы
Реализовать программу для работы с квадратными матрицами (вариант №7) и создать класс для юнит-тестирования без использования специализированных библиотек.

---

## 1. ПОСТАНОВКА ЗАДАЧИ

### 1.1 Требования к программе (Вариант №7)
- Создать квадратную матрицу размера MxM, где M ∈ [2,5]
- Размер матрицы задается пользователем
- Матрица содержит только целые числа из диапазона [1, 100]
- Числа могут быть случайными или вводиться пользователем
- Отсортировать по убыванию элементы ниже главной диагонали
- Остальные элементы остаются без изменений

### 1.2 Требования к тестированию
- Реализовать класс для тестирования без специализированных библиотек
- Обеспечить достаточное покрытие тестами
- Предусмотреть позитивные и негативные тесты
- Включить тесты для экстремальных входных данных

---

## 2. РЕАЛИЗАЦИЯ ПРОГРАММЫ

### 2.1 Структура класса MatrixProcessor

```python
class MatrixProcessor:
    def __init__(self):
        self.matrix: Optional[List[List[int]]] = None
        self.size: int = 0
    
    def create_matrix(self, size: int, values: Optional[List[List[int]]] = None) -> bool
    def sort_below_diagonal(self) -> bool
    def get_matrix(self) -> Optional[List[List[int]]]
    def get_element(self, row: int, col: int) -> Optional[int]
    def set_element(self, row: int, col: int, value: int) -> bool
    def get_elements_below_diagonal(self) -> List[int]
    def is_sorted_below_diagonal(self) -> bool
    def display_matrix(self) -> str
    def reset(self) -> None
```

### 2.2 Основные методы

#### create_matrix(size, values=None)
- Создает квадратную матрицу заданного размера
- Проверяет корректность размера (2 ≤ size ≤ 5)
- Может заполнить случайными значениями или пользовательскими
- Валидирует значения (1 ≤ value ≤ 100)

#### sort_below_diagonal()
- Собирает все элементы ниже главной диагонали
- Сортирует их по убыванию
- Заменяет элементы в матрице

#### get_elements_below_diagonal()
- Возвращает список всех элементов ниже главной диагонали
- Используется для проверки корректности сортировки

#### is_sorted_below_diagonal()
- Проверяет, отсортированы ли элементы ниже диагонали по убыванию
- Возвращает True для пустой матрицы или одного элемента

---

## 3. РЕАЛИЗАЦИЯ ТЕСТИРОВАНИЯ

### 3.1 Структура класса MatrixProcessorTester

```python
class MatrixProcessorTester:
    def __init__(self):
        self.passed_tests = 0
        self.failed_tests = 0
        self.test_results = []
    
    def run_test(self, test_name: str, test_function) -> bool
    def run_all_tests(self) -> None
    def print_summary(self) -> None
```

### 3.2 Категории тестов

#### Позитивные тесты (18 тестов)
- **Создание матрицы:** тесты для размеров 2x2, 3x3, 4x4, 5x5
- **Пользовательские значения:** корректные значения в допустимом диапазоне
- **Операции с элементами:** получение и установка элементов
- **Сортировка:** проверка сортировки для всех размеров матриц
- **Экстремальные значения:** минимальные (1), максимальные (100), одинаковые значения

#### Негативные тесты (14 тестов)
- **Некорректные размеры:** 1, 6, отрицательные, float
- **Некорректные значения:** вне диапазона [1,100], неправильный тип
- **Некорректные координаты:** вне границ матрицы
- **Отсутствие матрицы:** операции без создания матрицы

### 3.3 Покрытие тестами

| Функциональность | Количество тестов | Тип тестов |
|------------------|-------------------|------------|
| Создание матрицы | 6 | Позитивные + Негативные |
| Пользовательские значения | 4 | Позитивные + Негативные |
| Операции с элементами | 6 | Позитивные + Негативные |
| Сортировка | 6 | Позитивные + Негативные |
| Вспомогательные методы | 6 | Позитивные + Негативные |
| Экстремальные случаи | 4 | Позитивные |

---

## 4. РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ

### 4.1 Сводка результатов

```
Всего тестов: 32
Пройдено: 32
Провалено: 0
Процент успешности: 100.0%
```

### 4.2 Детальные результаты

#### Позитивные тесты (18/18 пройдено)
- ✓ test_create_matrix_valid_size_2
- ✓ test_create_matrix_valid_size_5
- ✓ test_create_matrix_with_valid_values
- ✓ test_get_element_valid_coordinates
- ✓ test_set_element_valid
- ✓ test_sort_below_diagonal_2x2
- ✓ test_sort_below_diagonal_3x3
- ✓ test_sort_below_diagonal_4x4
- ✓ test_sort_below_diagonal_5x5
- ✓ test_get_elements_below_diagonal_2x2
- ✓ test_get_elements_below_diagonal_3x3
- ✓ test_is_sorted_below_diagonal_sorted
- ✓ test_extreme_values_min
- ✓ test_extreme_values_max
- ✓ test_extreme_values_all_same
- ✓ test_reset

#### Негативные тесты (14/14 пройдено)
- ✓ test_create_matrix_invalid_size_1
- ✓ test_create_matrix_invalid_size_6
- ✓ test_create_matrix_invalid_size_negative
- ✓ test_create_matrix_invalid_size_float
- ✓ test_create_matrix_with_invalid_values_wrong_size
- ✓ test_create_matrix_with_invalid_values_out_of_range
- ✓ test_create_matrix_with_invalid_values_wrong_type
- ✓ test_get_element_invalid_coordinates
- ✓ test_get_element_no_matrix
- ✓ test_set_element_invalid_coordinates
- ✓ test_set_element_invalid_value
- ✓ test_set_element_no_matrix
- ✓ test_sort_below_diagonal_no_matrix
- ✓ test_get_elements_below_diagonal_no_matrix
- ✓ test_is_sorted_below_diagonal_not_sorted
- ✓ test_is_sorted_below_diagonal_no_matrix

---

## 5. ДЕМОНСТРАЦИЯ РАБОТЫ ПРОГРАММЫ

### 5.1 Пример 1: Матрица 3x3 со случайными значениями

**Исходная матрица:**
```
 50  26  82
 40   5   4
 32  82  36
```

**Элементы ниже диагонали:** [40, 32, 82]

**После сортировки:**
```
 50  26  82
 82   5   4
 40  32  36
```

**Элементы ниже диагонали:** [82, 40, 32] ✓ (отсортированы по убыванию)

### 5.2 Пример 2: Матрица 4x4 с пользовательскими значениями

**Исходная матрица:**
```
 10  20  30  40
 50  60  70  80
 90  15  25  35
 45  55  65  75
```

**Элементы ниже диагонали:** [50, 90, 15, 45, 55, 65]

**После сортировки:**
```
 10  20  30  40
 90  60  70  80
 65  55  25  35
 50  45  15  75
```

**Элементы ниже диагонали:** [90, 65, 55, 50, 45, 15] ✓ (отсортированы по убыванию)

---

## 6. АНАЛИЗ КАЧЕСТВА КОДА

### 6.1 Сильные стороны реализации

1. **Модульность:** Код разделен на логические методы с четкими обязанностями
2. **Валидация:** Все входные данные проверяются на корректность
3. **Обработка ошибок:** Методы возвращают булевы значения для индикации успеха/неудачи
4. **Типизация:** Использованы аннотации типов для улучшения читаемости
5. **Документация:** Все методы имеют подробные docstring'и

### 6.2 Покрытие тестами

- **100% покрытие** всех публичных методов
- **Позитивные и негативные** сценарии
- **Экстремальные значения** (минимальные, максимальные, граничные)
- **Проверка граничных условий** (пустая матрица, один элемент)

### 6.3 Соответствие требованиям

✅ **Создание квадратной матрицы** размера MxM, где M ∈ [2,5]  
✅ **Заполнение целыми числами** из диапазона [1, 100]  
✅ **Поддержка случайных и пользовательских** значений  
✅ **Сортировка элементов ниже главной диагонали** по убыванию  
✅ **Сохранение остальных элементов** без изменений  

---

## 7. ВЫВОДЫ

1. **Программа успешно реализована** в соответствии с требованиями варианта №7
2. **Создан полноценный класс для тестирования** без использования специализированных библиотек
3. **Достигнуто 100% покрытие** тестами с 32 тестами
4. **Все тесты проходят успешно**, что подтверждает корректность реализации
5. **Код хорошо структурирован** и документирован
6. **Обработка ошибок** реализована на всех уровнях

### 7.1 Рекомендации по улучшению

1. **Добавить логирование** для отслеживания выполнения операций
2. **Реализовать кэширование** результатов сортировки
3. **Добавить поддержку** других алгоритмов сортировки
4. **Расширить функциональность** для работы с неквадратными матрицами

### 7.2 Применимость

Разработанная программа может быть использована в:
- Образовательных целях для изучения алгоритмов сортировки
- Обработке данных в матричном виде
- Тестировании алгоритмов работы с матрицами
- Демонстрации принципов модульного тестирования

---

## 8. ПРИЛОЖЕНИЯ

### 8.1 Структура файлов

```
src/
├── matrix_processor.py          # Основная программа
├── matrix_processor_tests.py    # Класс для тестирования
└── Практическая_работа_5_Отчет.md  # Отчет
```

### 8.2 Запуск программы

```bash
# Демонстрация работы программы
python3 matrix_processor.py

# Запуск тестов
python3 matrix_processor_tests.py
```

### 8.3 Требования

- Python 3.6+
- Стандартная библиотека Python (без дополнительных зависимостей)
