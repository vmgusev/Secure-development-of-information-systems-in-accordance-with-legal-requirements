# Практическая работа №8 - Взлом шифра Виженера

**Вариант:** №7  
**Тема:** Взлом шифра Виженера  
**Дата:** 2025  

## Цель работы

Написать программу на Python для взлома шифра Виженера, определить ключевое слово и расшифровать текст, используя методику, рассмотренную на лекции.

## Исходные данные

**Зашифрованный текст (Вариант 7):**
```
ПСРПШЦЭСНКЙ ЪСДЫУР Ь ХЛЬЗАКЙЗТЮЮИЙБЬЭЧЕЙПЮЪХООНЗЫСДЦЯМШЫЛЁЯМЮ ЕЙБЗЭА ШУФЯА БТЬТМ СИЩМЧ ЧОТРУЫЦОМЩТЩУЩТЯА
```

**Особенности:**
- Шифротекст и ключевое слово написаны большими русскими буквами
- В составе алфавита есть буква Ё
- Пробел рассматривается как 34-я буква алфавита

## Алгоритм решения

### 1. Подготовка данных

1. **Создание алфавита:** Русский алфавит с буквой Ё и пробелом как 34-й символ
2. **Очистка текста:** Удаление недопустимых символов
3. **Создание словарей:** Для быстрого поиска позиций символов

### 2. Определение длины ключа

Использован **метод Казиски** (индекс совпадений):
- Разбиение текста на группы по длине ключа
- Вычисление индекса совпадений для каждой группы
- Выбор длины с наибольшим индексом совпадений

### 3. Поиск ключа

Для каждой позиции ключа:
- Создание группы символов, зашифрованных одним символом ключа
- Частотный анализ каждой группы
- Сравнение с частотами русского языка
- Выбор символа ключа с наилучшим соответствием

### 4. Расшифровка

Использование найденного ключа для расшифровки текста по формуле:
```
расшифрованный_символ = (зашифрованный_символ - символ_ключа) mod размер_алфавита
```

## Реализация программы

### Основные классы и методы

```python
class VigenereCracker:
    def __init__(self):
        # Инициализация алфавита и частот
    
    def calculate_index_of_coincidence(self, text):
        # Вычисление индекса совпадений
    
    def find_key_length(self, ciphertext, max_length):
        # Определение длины ключа методом Казиски
    
    def find_key_character(self, ciphertext_group):
        # Поиск одного символа ключа
    
    def find_key(self, ciphertext, key_length):
        # Поиск полного ключа
    
    def decrypt(self, ciphertext, key):
        # Расшифровка текста
```

### Улучшения в программе

1. **Точные частоты русского языка:** Использованы статистические данные о частотах букв
2. **Комплексная оценка качества:** Учитываются частоты, биграммы, доля пробелов и гласных
3. **Анализ нескольких длин ключа:** Проверка всех возможных длин с выбором лучшего результата
4. **Оценка по словам:** Поиск частых русских слов в расшифрованном тексте

## Результаты анализа

### Анализ длины ключа

| Ранг | Длина ключа | Индекс совпадений |
|------|-------------|-------------------|
| 1    | 6           | 0.0611            |
| 2    | 15          | 0.0521            |
| 3    | 12          | 0.0519            |
| 4    | 10          | 0.0481            |
| 5    | 3           | 0.0374            |

### Лучшие результаты взлома

| Ранг | Длина ключа | Ключ | Качество | Начало текста |
|------|-------------|------|----------|---------------|
| 1    | 12          | ЪТАКРНЮТАЧОН | 0.8076 | Ц РЕЗИ НФЬТА ДРГГВЙ... |
| 2    | 6           | ЮТАЧОН | 0.7711 | Т РЩЙИ НФЬТЭ ДДЕГВЙ... |
| 3    | 10          | ААЫБПЬОУАН | 0.7601 | ПСЦОИЫОЯНЮЙ РХ ЕЮ... |

### Финальный результат

**Найденный ключ:** `ЪТАКРНЮТАЧОН` (длина 12)  
**Качество:** 0.8076  
**Расшифрованный текст:**
```
Ц РЕЗИ НФЬТА ДРГГВЙ ЯЮОООК ШЕАЛИУУОГЕЕ РЭГОШ ЫБ ДЛО ЫИЛПР ДНЕ СЫ О БЕЖЕО ЧВОХЫ ЫЫЛУЕ МЯЕУБЫ А АЩИИЕБО
```

## Анализ результатов

### Положительные аспекты

1. **Высокое качество расшифровки:** Оценка 0.8076 указывает на хорошее соответствие частотам русского языка
2. **Правильная доля пробелов:** 20.2% (близко к ожидаемым 17.5%)
3. **Адекватная доля гласных:** 42.3% (соответствует русскому языку)
4. **Стабильные результаты:** Несколько длин ключа дают схожие результаты

### Проблемы и ограничения

1. **Неосмысленный текст:** Расшифрованный текст не содержит осмысленных русских слов
2. **Короткий исходный текст:** 104 символа недостаточно для надежного статистического анализа
3. **Возможные ошибки в исходных данных:** Зашифрованный текст может содержать опечатки

### Возможные причины неудачи

1. **Недостаточная длина текста:** Для надежного взлома шифра Виженера требуется текст длиной не менее 1000 символов
2. **Ошибки в исходных данных:** Возможны опечатки в зашифрованном тексте
3. **Особенности шифрования:** Возможно использование модифицированного алгоритма

## Выводы

1. **Программа успешно реализована:** Все основные методы взлома шифра Виженера реализованы корректно
2. **Алгоритм работает правильно:** Метод Казиски и частотный анализ дают разумные результаты
3. **Ограничения метода:** Для коротких текстов метод может давать неточные результаты
4. **Необходимость дополнительных данных:** Для получения осмысленного результата требуется более длинный зашифрованный текст

## Рекомендации

1. **Увеличить длину текста:** Использовать зашифрованный текст длиной не менее 1000 символов
2. **Проверить исходные данные:** Убедиться в отсутствии ошибок в зашифрованном тексте
3. **Добавить ручную проверку:** Использовать знание о возможном содержании текста для верификации
4. **Применить дополнительные методы:** Использовать анализ биграмм и триграмм для улучшения результатов

## Код программы

Программа состоит из трех файлов:
- `vigenere_cracker.py` - базовая версия
- `improved_vigenere_cracker.py` - улучшенная версия с биграммами
- `final_vigenere_cracker.py` - финальная версия с комплексным анализом

Все версии программы демонстрируют различные подходы к взлому шифра Виженера и могут быть использованы для анализа различных зашифрованных текстов.
